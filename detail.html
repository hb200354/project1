<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>상품 상세</title>
    <link rel="stylesheet" href="css/style.css">
</head>

<body>
    <!-- 헤더 (Soopsori 스타일 메뉴바) -->
    <header class="main-header">
        <!-- 로고 -->
        <div class="logo">
            <a href="list.html">
                <img src="images/logo.png" alt="Soopsori 로고">
            </a>
        </div>

        <!-- 네비게이션 -->
        <nav class="main-nav">
            <ul>
                <li class="dropdown">
                    <a href="list.html">PRODUCT</a>
                    <ul class="submenu">
                        <li><a href="more-list/best.html">베스트</a></li>
                        <li class="dropdown">
                            <a href="more-list/furniture.html">소가구</a>
                            <ul class="sub-submenu">
                                <li><a href="more-list/storage.html">수납가구</a></li>
                                <li><a href="more-list/desk-chair.html">책상·의자</a></li>
                                <li><a href="more-list/accessory.html">액세서리</a></li>
                            </ul>
                        </li>
                    </ul>
                </li>
            </ul>
        </nav>

        <!-- 로그인 아이콘 -->
        <div class="login-icon">
            <a href="login.html">
                <img src="images/log-in.png" alt="로그인 아이콘">
            </a>
        </div>
    </header>

    <main>
        <h2>상품 상세 페이지</h2>
        <p>URL의 <code>?id=숫자</code> 값에 따라 다른 상품 정보를 표시합니다.</p>

        <!-- 상품 상세정보 -->
        <section class="product-detail">
            <h3 class="product-name"></h3>
            <img class="product-img" alt="상품 이미지" style="max-width:400px; margin: 1rem 0;">
            <table>
                <tr>
                    <th>상품ID</th>
                    <td class="product-id"></td>
                </tr>
                <tr>
                    <th>상품명</th>
                    <td class="product-name"></td>
                </tr>
                <tr>
                    <th>가격</th>
                    <td class="product-price"></td>
                </tr>
                <tr>
                    <th>설명</th>
                    <td class="product-desc"></td>
                </tr>
                <tr>
                    <th>등록일</th>
                    <td class="product-date"></td>
                </tr>
            </table>
        </section>

        <!-- SQL 쿼리 흐름 안내 -->
        <section class="sql-note">
            <h4>※ SQL 처리 흐름 요약</h4>
            <pre>
1. 사용자가 상품 목록에서 detail.html?id=1 로 이동
2. JS가 URL에서 id값을 읽어옴
3. "가짜 DB" 객체에서 해당 상품을 찾음
4. 상품 정보를 HTML에 표시
            </pre>
        </section>
    </main>

    <footer>
        <p>© 2025 5조 클론 프로젝트</p>
    </footer>

    <!-- JS: 동적 상품 로딩 -->
    <script>
        // 1️⃣ URL에서 ?id=값 추출
        const params = new URLSearchParams(window.location.search);
        const id = params.get("id");

        // 2️⃣ 가짜 DB 데이터 (실제 DB라면 SQL로 불러올 부분)
        const products = {
            1: {
                id: 1,
                name: "기본 반팔 티셔츠",
                price: "15,000원",
                desc: "편하게 입을 수 있는 기본 반팔 티셔츠입니다.",
                date: "2025-11-04",
                img: "https://via.placeholder.com/400x300?text=T-shirt"
            },
            2: {
                id: 2,
                name: "슬림핏 청바지",
                price: "39,000원",
                desc: "슬림한 핏으로 어디에나 어울리는 청바지입니다.",
                date: "2025-11-03",
                img: "https://via.placeholder.com/400x300?text=Jeans"
            },
            3: {
                id: 3,
                name: "캐주얼 스니커즈",
                price: "49,000원",
                desc: "가볍고 편안한 캐주얼 스니커즈입니다.",
                date: "2025-11-02",
                img: "https://via.placeholder.com/400x300?text=Sneakers"
            }
        };

        // 3️⃣ 해당 상품 데이터 불러오기
        const product = products[id];

        // 4️⃣ 상품이 존재하면 HTML에 표시
        if (product) {
            document.querySelector(".product-id").textContent = product.id;
            document.querySelectorAll(".product-name").forEach(el => el.textContent = product.name);
            document.querySelector(".product-price").textContent = product.price;
            document.querySelector(".product-desc").textContent = product.desc;
            document.querySelector(".product-date").textContent = product.date;
            document.querySelector(".product-img").src = product.img;
        } else {
            document.querySelector(".product-detail").innerHTML = "<p>❌ 해당 상품을 찾을 수 없습니다.</p>";
        }
    </script>
</body>

</html>
